#!/bin/bash

# ุงุฎุชุจุงุฑ Endpoints ุงูุฌุฏูุฏุฉ
# ุชุฃูุฏ ูู ุชุดุบูู ุงูุณูุฑูุฑ ุฃููุงู: python manage.py runserver

BASE_URL="http://localhost:8000/fact_check_with_openai"

echo "๐ ุงุฎุชุจุงุฑ Endpoints ุงูุฌุฏูุฏุฉ"
echo "================================"

# ุฃููุงู ููู output
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

# 1. ุงุฎุชุจุงุฑ ุงููุญุต ุงูุฃุณุงุณู
echo -e "\n${BLUE}๐ ุงุฎุชุจุงุฑ 1: ุงููุญุต ุงูุฃุณุงุณู${NC}"
echo "================================"
curl -X POST "${BASE_URL}/" \
  -H "Content-Type: application/json" \
  -d '{
    "query": "ุชู ุงูุชุชุงุญ ูุทุงุฑ ุฌุฏูุฏ ูู ุงูุฑูุงุถ ุงูููู"
  }' | python -m json.tool

echo -e "\n${GREEN}โ ุงุฎุชุจุงุฑ 1 ุงูุชูู${NC}"
read -p "ุงุถุบุท Enter ูููุชุงุจุนุฉ..."

# 2. ุงุฎุชุจุงุฑ ุงููุญุต ูุน ุตูุงุบุฉ ุงูุฎุจุฑ ูุงูุชุบุฑูุฏุฉ
echo -e "\n${BLUE}๐ ุงุฎุชุจุงุฑ 2: ูุญุต + ุตูุงุบุฉ ุฎุจุฑ ูุชุบุฑูุฏุฉ ูู ุฎุทูุฉ ูุงุญุฏุฉ${NC}"
echo "================================"
curl -X POST "${BASE_URL}/" \
  -H "Content-Type: application/json" \
  -d '{
    "query": "ุชู ุงูุชุชุงุญ ูุทุงุฑ ุฌุฏูุฏ ูู ุงูุฑูุงุถ ุงูููู",
    "generate_news": true,
    "generate_tweet": true
  }' | python -m json.tool

echo -e "\n${GREEN}โ ุงุฎุชุจุงุฑ 2 ุงูุชูู${NC}"
read -p "ุงุถุบุท Enter ูููุชุงุจุนุฉ..."

# 3. ุงุฎุชุจุงุฑ ุตูุงุบุฉ ุงูุฎุจุฑ ูู ุงููุชูุฌุฉ
echo -e "\n${BLUE}๐ ุงุฎุชุจุงุฑ 3: ุตูุงุบุฉ ุฎุจุฑ ูู ูุชูุฌุฉ ุงููุญุต${NC}"
echo "================================"
curl -X POST "${BASE_URL}/compose_news/" \
  -H "Content-Type: application/json" \
  -d '{
    "claim_text": "ุชู ุงูุชุชุงุญ ูุทุงุฑ ุฌุฏูุฏ ูู ุงูุฑูุงุถ ุงูููู",
    "case": "ุญูููู",
    "talk": "ุชู ุงูุชุฃูุฏ ูู ุตุญุฉ ุงูุฎุจุฑ ูู ุฎูุงู ูุตุงุฏุฑ ุฑุณููุฉ ููุซููุฉ. ุฃุนููุช ุงูููุฆุฉ ุงูุนุงูุฉ ููุทูุฑุงู ุงููุฏูู ุนู ุงูุชุชุงุญ ุงููุทุงุฑ ุงูุฌุฏูุฏ ูู ุงูุฑูุงุถุ ูุงูุฐู ูุนุฏ ุฃุญุฏ ุฃูุจุฑ ุงููุทุงุฑุงุช ูู ุงูููุทูุฉ. ูุฃุชู ูุฐุง ุงูุงูุชุชุงุญ ุถูู ุฎุทุท ุชูุณุนุฉ ุงูุจููุฉ ุงูุชุญุชูุฉ ููููู ุงูุฌูู ูู ุงูููููุฉ.",
    "sources": [
      {
        "title": "ุงูููุฆุฉ ุงูุนุงูุฉ ููุทูุฑุงู ุงููุฏูู ุชุนูู ุงูุชุชุงุญ ุงููุทุงุฑ",
        "url": "https://example.com/news1",
        "snippet": "ุฃุนููุช ุงูููุฆุฉ ุงูุนุงูุฉ ููุทูุฑุงู ุงููุฏูู ุนู ุงูุชุชุงุญ ุงููุทุงุฑ ุงูุฌุฏูุฏ"
      },
      {
        "title": "ุงูุชุชุงุญ ูุทุงุฑ ุงูุฑูุงุถ ุงูุฌุฏูุฏ",
        "url": "https://example.com/news2",
        "snippet": "ุดูุฏ ุงูููู ุงูุชุชุงุญ ุฑุณูู ูููุทุงุฑ ุงูุฌุฏูุฏ ูู ุงูุฑูุงุถ"
      }
    ],
    "lang": "ar"
  }' | python -m json.tool

echo -e "\n${GREEN}โ ุงุฎุชุจุงุฑ 3 ุงูุชูู${NC}"
read -p "ุงุถุบุท Enter ูููุชุงุจุนุฉ..."

# 4. ุงุฎุชุจุงุฑ ุตูุงุบุฉ ุงูุชุบุฑูุฏุฉ ูู ุงููุชูุฌุฉ
echo -e "\n${BLUE}๐ ุงุฎุชุจุงุฑ 4: ุตูุงุบุฉ ุชุบุฑูุฏุฉ ูู ูุชูุฌุฉ ุงููุญุต${NC}"
echo "================================"
curl -X POST "${BASE_URL}/compose_tweet/" \
  -H "Content-Type: application/json" \
  -d '{
    "claim_text": "ุชู ุงูุชุชุงุญ ูุทุงุฑ ุฌุฏูุฏ ูู ุงูุฑูุงุถ ุงูููู",
    "case": "ุญูููู",
    "talk": "ุชู ุงูุชุฃูุฏ ูู ุตุญุฉ ุงูุฎุจุฑ ูู ุฎูุงู ูุตุงุฏุฑ ุฑุณููุฉ ููุซููุฉ. ุฃุนููุช ุงูููุฆุฉ ุงูุนุงูุฉ ููุทูุฑุงู ุงููุฏูู ุนู ุงูุชุชุงุญ ุงููุทุงุฑ ุงูุฌุฏูุฏ ูู ุงูุฑูุงุถ.",
    "sources": [
      {
        "title": "ุงูููุฆุฉ ุงูุนุงูุฉ ููุทูุฑุงู ุงููุฏูู ุชุนูู ุงูุชุชุงุญ ุงููุทุงุฑ",
        "url": "https://example.com/news1",
        "snippet": "ุฃุนููุช ุงูููุฆุฉ ุงูุนุงูุฉ ููุทูุฑุงู ุงููุฏูู ุนู ุงูุชุชุงุญ ุงููุทุงุฑ ุงูุฌุฏูุฏ"
      }
    ],
    "lang": "ar"
  }' | python -m json.tool

echo -e "\n${GREEN}โ ุงุฎุชุจุงุฑ 4 ุงูุชูู${NC}"

# 5. ุงุฎุชุจุงุฑ ูุน ูุชูุฌุฉ ุบูุฑ ูุคูุฏุฉ
echo -e "\n${BLUE}๐ ุงุฎุชุจุงุฑ 5: ุตูุงุบุฉ ุชุบุฑูุฏุฉ ูู ูุชูุฌุฉ ุบูุฑ ูุคูุฏุฉ${NC}"
echo "================================"
echo -e "${YELLOW}ููุงุญุธุฉ: ุงููุธุงู ูุฏุนู ุญุงูุชูู ููุท - ุญูููู ูุบูุฑ ูุคูุฏ (ูุง ุชูุฌุฏ ุญุงูุฉ ูุงุฐุจ)${NC}"
curl -X POST "${BASE_URL}/compose_tweet/" \
  -H "Content-Type: application/json" \
  -d '{
    "claim_text": "ุณุชูุทูู ุฑุญูุฉ ูุถุงุฆูุฉ ุฌุฏูุฏุฉ ุงูุฃุณุจูุน ุงููุงุฏู",
    "case": "ุบูุฑ ูุคูุฏ",
    "talk": "ูู ูุชู ุงูุนุซูุฑ ุนูู ูุนูููุงุช ูุงููุฉ ูุชุฃููุฏ ูุฐุง ุงูุฎุจุฑ. ูุง ุชูุฌุฏ ุชุตุฑูุญุงุช ุฑุณููุฉ ูู ููุงูุงุช ุงููุถุงุก ุงููุนููุฉ ุจูุฐุง ุงูุดุฃู ูู ุงูููุช ุงูุญุงูู.",
    "sources": [],
    "lang": "ar"
  }' | python -m json.tool

echo -e "\n${GREEN}โ ุงุฎุชุจุงุฑ 5 ุงูุชูู${NC}"

echo -e "\n${YELLOW}๐ ุงูุชููุช ุฌููุน ุงูุงุฎุชุจุงุฑุงุช!${NC}"

